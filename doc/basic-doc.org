* Definicion del proyecto
** Descripción
Proyecto Serenity (Recetario de cocina para Android)
** Elementos
- API
- App Android
- Web (futuro)

** Objetivos
*** Primarios
- Semántica:
  + Ingredientes "restringidos" y medidas "estándares"
  + Introducción de pasos delimitada
- Cronómetro (opcional) en cada paso
- Media (opcional) en cada paso: imagen o video
- Valorar recetas (puntuación)

*** Secundarios o futuros
- Dashboard inicial (recomendación de recetas en función de los
  gustos)
- Lectura automática de la receta
- Reconocimiento de voz (órdenes de lectura)

** API
*** Clases


** Cuestiones
*** Qué base de datos escoger
- ¿SQL o NoSQL?
- Cuál de ellas
*** Qué framework para la API escoger
- Lenguaje: Python
  Ya he trabajado con APIs en PHP y de los demás lenguajes, me
  interesa probar con Python por ver otra faceta más de éste.

- Qué framework: ¿Django o Flask?
  Django es más complejo, pero permite hacer más cosas.

*** Qué plataforma para la App escoger
- iOS: trabajo con ella habitualmente, por lo que no me
  interesa. Además es muy caro y no puedo permitírmelo: 90$ al año +
  Mac.
- Firefox OS: no tiene mucho mercado todavía. Quizá en un futuro.
- Windows Phone: hay que desarrollar desde Windows 8 y, por
  principios, no utilizo ese sistema, sólo uso equipos con GNU Linux
  (salvo en el trabajo que uso Mac).
- Android: elegido por poseer un mercado enorme, poseer un equipo
  apto para su desarrollo y económicamente es mucho más viable
  desarrollar (20 $ para toda la vida). Además tengo dispositivos
  Android en los que poder realizar pruebas físicas, además de en el
  simulador.

*** Monetización
- Añadir publicidad
- Donaciones voluntarias, pero eso no cuenta.
- ¿Algo más?
* Instalación
** Desde cero
- Python: sudo apt-get install python-dev build-essential python3-dev
- PIP: sudo apt-get install python-pip
- Virtualenv: sudo pip install virtualenv
- PostgreSQL:
  + sudo apt-get install postgresql postgresql-contrib libpq-dev
  + GUI: sudo apt-get install pgadmin3
  + Change password: sudo -u postgres psql postgres
  + \password postgres
  + Create DB: sudo -u postgres createdb amusedb
  + Lanzar servidor: sudo service postgresql start
- Redis:
  + wget http://download.redis.io/releases/redis-2.8.12.tar.gz
  + tar xzf redis-2.8.12.tar.gz
  + cd redis-2.8.12
  + make
- Sphinx: sudo apt-get install python-sphinx

** Virtualenv
- Activar virtualenv:
  + La versión de python es opcional (toma una por defecto):
    virtualenv -p /usr/bin/python3 env 
  + source env/bin/activate
  + Nota: Para salir del entorno de virtualenv, usar deactivate
- Instalar paquetes requeridos:
  + pip install django
- django-admin.py startproject
  --template=https://github.com/sebastibe/django-rest-skeleton/archive/master.zip amuseapi
- Flake8: pip install flake8
  + Para usarlo: flake8 directorio
  + Intentar instalar el hook para git (no ha funcionado la primera vez)


** Configuración básica de Django
- Actualizar paquetes requeridos:
  pip install -r reqs/all.txt
- Crear un nuevo proyecto de Django:
  + django-admin.py startproject nombre-proyecto
  + cd nombre-proyecto
- Crear una nueva app:
  + python manage.py startapp nombre-app
- Configurar la base de datos en nombre-proyecto/settings.py
  + python ./manage.py syncdb
  + python ./manage.py createsuperuser
- Configurar las URLs en nombre-proyecto/urls.py


** Configuración nueva plantilla
- Desarrollo o producción: echo "true" > envdir/DEBUG
- Base de datos estilo Heroku:
   echo "postgres://postgres@localhost:5432/project" > envdir/DATABASE_URL
- Configuración de Postgres:
  + Añadir -d para desarrollo: sudo -u postgres createuser -d -A -P amuseuser
  + sudo -u postgres createdb -O amuseuser amusedb
- Ejecutar Redis Server: $DIR/src/redis-server
- Ejecutar configuración de Sphinx: sphinx-quickstart
- Django Model Utils: pip install django-model-utils
- Settings.py:
  + Línea 272: Actualizar usuario, contraseña y BD

** Fuentes
*** Plantillas
- Django REST skeleton (plantilla):
  https://github.com/sebastibe/django-rest-skeleton
- Django REST framework template:
  http://vincent.is/making-a-django-rest-framework-template/
*** Modelos
- Django Model Utils: https://django-model-utils.readthedocs.org/en/latest/index.html
-
  http://stackoverflow.com/questions/18958205/concurrent-requests-in-django
-
  http://stackoverflow.com/questions/1355150/django-when-saving-how-can-you-check-if-a-field-has-changed
*** Imgur
- http://api.imgur.com/
- https://github.com/jacobgreenleaf/imgur-python/
- https://github.com/talklittle/ImgurAPIv3ExampleAndroid
*** Postgres
- https://help.ubuntu.com/community/PostgreSQL
